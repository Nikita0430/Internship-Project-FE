<h1>Profile</h1>

<form [formGroup]="userForm" (ngSubmit)="submitForm()">
  <h2>Personal Details</h2>
  <div class="form-group">
    <label for="email">Account ID: </label>
    <input type="text" id="account-no" name="account-no" [readOnly]="true" [(ngModel)]="user.account_no" formControlName="accountId">
  </div>
  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [readOnly]="true" [(ngModel)]="user.email" formControlName="email">
  </div>

  <div class="form-group">
    <label for="state">State:</label>
    <input type="text" id="state" name="state" [(ngModel)]="user.state" formControlName="state">
    <div class="inline-error" *ngIf="this.isAttempted || userForm.controls['state'].invalid && (userForm.controls['state'].dirty || userForm.controls['state'].touched)">
      <small *ngIf="userForm.get('state')!.errors?.['required']">State is required</small>
    </div>
  </div>

  <div class="form-group">
    <label for="city">City:</label>
    <input type="text" id="city" name="city" [(ngModel)]="user.city" formControlName="city">
    <div class="inline-error" *ngIf="this.isAttempted || userForm.controls['city'].invalid && (userForm.controls['city'].dirty || userForm.controls['city'].touched)">
      <small *ngIf="userForm.get('city')!.errors?.['required']">City is required</small>
    </div>
  </div>

  <div class="form-group">
    <label for="address">Address:</label>
    <input type="text" id="address" name="address" [(ngModel)]="user.address" formControlName="address">
    <div class="inline-error" *ngIf="this.isAttempted || userForm.controls['address'].invalid && (userForm.controls['address'].dirty || userForm.controls['address'].touched)">
      <small *ngIf="userForm.get('address')!.errors?.['required']">Address is required</small>
    </div>
  </div>

  <div class="form-group">
    <label for="zipcode">Zipcode:</label>
    <input type="text" id="zipcode" name="zipcode" [(ngModel)]="user.zipcode" formControlName="zipcode">
    <div class="inline-error" *ngIf="this.isAttempted || userForm.controls['zipcode'].invalid && (userForm.controls['zipcode'].dirty || userForm.controls['zipcode'].touched)">
      <small *ngIf="userForm.get('zipcode')!.errors?.['required']">Zipcode is required</small>
    </div>
  </div>

  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" [(ngModel)]="user.name" formControlName="name">
    <div class="inline-error" *ngIf="this.isAttempted || userForm.controls['name'].invalid && (userForm.controls['name'].dirty || userForm.controls['name'].touched)">
      <small *ngIf="userForm.get('name')!.errors?.['required']"> Name is required</small>
    </div>
  </div>
  <h2>Update Password</h2>

  <div class="form-group">
    <label for="new_password">New Password:</label>
    <input type="password" id="newpassword" name="new_password" formControlName="newPassword">
  </div>
  <div class="form-group">
    <label for="confirm_password">Confirm Password:</label>
    <input type="password" id="confirmpassword" name="confirm_password" formControlName="confirmPassword">
    <div class="inline-error" *ngIf="this.isAttempted">
      <small *ngIf="userForm.errors?.['passwordMismatch']">Confirm Password must be same as New Password</small>
    </div>
  </div>
<div class = "btn">
  <button type="submit">Save</button>
  <button (click)="discardChanges()">Cancel</button>

</div>
</form>